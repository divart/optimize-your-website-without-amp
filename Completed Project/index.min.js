!function(e,t){var n=t(e,e.document);e.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var n,i,r=t.documentElement,s=e.Date,o=e.HTMLPictureElement,a="addEventListener",l="getAttribute",c=e[a],u=e.setTimeout,d=e.requestAnimationFrame||u,h=e.requestIdleCallback,f=/^picture$/i,g=["load","error","lazyincluded","_lazyloaded"],m={},p=Array.prototype.forEach,v=function(e,t){return m[t]||(m[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),m[t].test(e[l]("class")||"")&&m[t]},y=function(e,t){v(e,t)||e.setAttribute("class",(e[l]("class")||"").trim()+" "+t)},b=function(e,t){var n;(n=v(e,t))&&e.setAttribute("class",(e[l]("class")||"").replace(n," "))},w=function(e,t,n){var i=n?a:"removeEventListener";n&&w(e,t),g.forEach(function(n){e[i](n,t)})},E=function(e,i,r,s,o){var a=t.createEvent("CustomEvent");return r||(r={}),r.instance=n,a.initCustomEvent(i,!s,!o,r),e.dispatchEvent(a),a},k=function(t,n){var r;!o&&(r=e.picturefill||i.pf)?r({reevaluate:!0,elements:[t]}):n&&n.src&&(t.src=n.src)},C=function(e,t){return(getComputedStyle(e,null)||{})[t]},x=function(e,t,n){for(n=n||e.offsetWidth;n<i.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},S=function(){var e,n,i=[],r=[],s=i,o=function(){var t=s;for(s=i.length?r:i,e=!0,n=!1;t.length;)t.shift()();e=!1},a=function(i,r){e&&!r?i.apply(this,arguments):(s.push(i),n||(n=!0,(t.hidden?u:d)(o)))};return a._lsFlush=o,a}(),z=function(e,t){return t?function(){S(e)}:function(){var t=this,n=arguments;S(function(){e.apply(t,n)})}},P=function(e){var t,n=0,i=666,r=function(){t=!1,n=s.now(),e()},o=h?function(){h(r,{timeout:i}),666!==i&&(i=666)}:z(function(){u(r)},!0);return function(e){var r;(e=!0===e)&&(i=44),t||(t=!0,0>(r=125-(s.now()-n))&&(r=0),e||9>r&&h?o():u(o,r))}},F=function(e){var t,n,i=function(){t=null,e()},r=function(){var e=s.now()-n;99>e?u(r,99-e):(h||i)(i)};return function(){n=s.now(),t||(t=u(r,99))}},H=function(){var o,d,h,g,m,x,H,A,N,L,B,M,X,D,W=/^img$/i,I=/^iframe$/i,_="onscroll"in e&&!/glebot/.test(navigator.userAgent),O=0,j=0,Y=-1,R=function(e){j--,e&&e.target&&w(e.target,R),(!e||0>j||!e.target)&&(j=0)},q=function(e,n){var i,s=e,o="hidden"==C(t.body,"visibility")||"hidden"!=C(e,"visibility");for(A-=n,B+=n,N-=n,L+=n;o&&(s=s.offsetParent)&&s!=t.body&&s!=r;)(o=(C(s,"opacity")||1)>0)&&"visible"!=C(s,"overflow")&&(i=s.getBoundingClientRect(),o=L>i.left&&N<i.right&&B>i.top-1&&A<i.bottom+1);return o},G=function(){var e,s,a,c,u,h,f,m,p,v=n.elements;if((g=i.loadMode)&&8>j&&(e=v.length)){s=0,Y++,null==X&&("expand"in i||(i.expand=r.clientHeight>500&&r.clientWidth>500?500:370),M=i.expand,X=M*i.expFactor),X>O&&1>j&&Y>2&&g>2&&!t.hidden?(O=X,Y=0):O=g>1&&Y>1&&6>j?M:0;for(;e>s;s++)if(v[s]&&!v[s]._lazyRace)if(_)if((m=v[s][l]("data-expand"))&&(h=1*m)||(h=O),p!==h&&(x=innerWidth+h*D,H=innerHeight+h,f=-1*h,p=h),a=v[s].getBoundingClientRect(),(B=a.bottom)>=f&&(A=a.top)<=H&&(L=a.right)>=f*D&&(N=a.left)<=x&&(B||L||N||A)&&(i.loadHidden||"hidden"!=C(v[s],"visibility"))&&(d&&3>j&&!m&&(3>g||4>Y)||q(v[s],h))){if(ee(v[s]),u=!0,j>9)break}else!u&&d&&!c&&4>j&&4>Y&&g>2&&(o[0]||i.preloadAfterLoad)&&(o[0]||!m&&(B||L||N||A||"auto"!=v[s][l](i.sizesAttr)))&&(c=o[0]||v[s]);else ee(v[s]);c&&!u&&ee(c)}},$=P(G),U=function(e){y(e.target,i.loadedClass),b(e.target,i.loadingClass),w(e.target,J),E(e.target,"lazyloaded")},V=z(U),J=function(e){V({target:e.target})},K=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},Q=function(e){var t,n=e[l](i.srcsetAttr);(t=i.customMedia[e[l]("data-media")||e[l]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},Z=z(function(e,t,n,r,s){var o,a,c,d,g,m;(g=E(e,"lazybeforeunveil",t)).defaultPrevented||(r&&(n?y(e,i.autosizesClass):e.setAttribute("sizes",r)),a=e[l](i.srcsetAttr),o=e[l](i.srcAttr),s&&(c=e.parentNode,d=c&&f.test(c.nodeName||"")),m=t.firesLoad||"src"in e&&(a||o||d),g={target:e},m&&(w(e,R,!0),clearTimeout(h),h=u(R,2500),y(e,i.loadingClass),w(e,J,!0)),d&&p.call(c.getElementsByTagName("source"),Q),a?e.setAttribute("srcset",a):o&&!d&&(I.test(e.nodeName)?K(e,o):e.src=o),s&&(a||d)&&k(e,{src:o})),e._lazyRace&&delete e._lazyRace,b(e,i.lazyClass),S(function(){(!m||e.complete&&e.naturalWidth>1)&&(m?R(g):j--,U(g))},!0)}),ee=function(e){var t,n=W.test(e.nodeName),r=n&&(e[l](i.sizesAttr)||e[l]("sizes")),s="auto"==r;(!s&&d||!n||!e[l]("src")&&!e.srcset||e.complete||v(e,i.errorClass))&&(t=E(e,"lazyunveilread").detail,s&&T.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,j++,Z(e,t,s,r,n))},te=function(){if(!d){if(s.now()-m<999)return void u(te,999);var e=F(function(){i.loadMode=3,$()});d=!0,i.loadMode=3,$(),c("scroll",function(){3==i.loadMode&&(i.loadMode=2),e()},!0)}};return{_:function(){m=s.now(),n.elements=t.getElementsByClassName(i.lazyClass),o=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),D=i.hFac,c("scroll",$,!0),c("resize",$,!0),e.MutationObserver?new MutationObserver($).observe(r,{childList:!0,subtree:!0,attributes:!0}):(r[a]("DOMNodeInserted",$,!0),r[a]("DOMAttrModified",$,!0),setInterval($,999)),c("hashchange",$,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[a](e,$,!0)}),/d$|^c/.test(t.readyState)?te():(c("load",te),t[a]("DOMContentLoaded",$),u(te,2e4)),n.elements.length?(G(),S._lsFlush()):$()},checkElems:$,unveil:ee}}(),T=function(){var e,n=z(function(e,t,n,i){var r,s,o;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),f.test(t.nodeName||""))for(r=t.getElementsByTagName("source"),s=0,o=r.length;o>s;s++)r[s].setAttribute("sizes",i);n.detail.dataAttr||k(e,n.detail)}),r=function(e,t,i){var r,s=e.parentNode;s&&(i=x(e,s,i),(r=E(e,"lazybeforesizes",{width:i,dataAttr:!!t})).defaultPrevented||(i=r.detail.width)&&i!==e._lazysizesWidth&&n(e,s,r,i))},s=F(function(){var t,n=e.length;if(n)for(t=0;n>t;t++)r(e[t])});return{_:function(){e=t.getElementsByClassName(i.autosizesClass),c("resize",s)},checkElems:s,updateElem:r}}(),A=function(){A.i||(A.i=!0,T._(),H._())};return function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0};i=e.lazySizesConfig||e.lazysizesConfig||{};for(t in n)t in i||(i[t]=n[t]);e.lazySizesConfig=i,u(function(){i.init&&A()})}(),n={cfg:i,autoSizer:T,loader:H,init:A,uP:k,aC:y,rC:b,hC:v,fire:E,gW:x,rAF:S}}}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.baguetteBox=t()}(this,function(){"use strict";function e(e,t){var n=document.querySelectorAll(e),i={galleries:[],nodeList:n};Y[e]=i,[].forEach.call(n,function(e){t&&t.filter&&(j=t.filter);var n=[];if(n="A"===e.tagName?[e]:e.getElementsByTagName("a"),0!==(n=[].filter.call(n,function(e){return j.test(e.href)})).length){var r=[];[].forEach.call(n,function(e,n){var i=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,a(r,t),c(n)},s={eventHandler:i,imageElement:e};C(e,"click",i),r.push(s)}),i.galleries.push(r)}})}function t(){for(var e in Y)Y.hasOwnProperty(e)&&n(e)}function n(e){if(Y.hasOwnProperty(e)){var t=Y[e].galleries;[].forEach.call(t,function(e){[].forEach.call(e,function(e){x(e.imageElement,"click",e.eventHandler)}),W===e&&(W=[])}),delete Y[e]}}function i(){if(P=S("baguetteBox-overlay"))return F=S("baguetteBox-slider"),H=S("previous-button"),T=S("next-button"),void(A=S("close-button"));(P=z("div")).setAttribute("role","dialog"),P.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(P),(F=z("div")).id="baguetteBox-slider",P.appendChild(F),(H=z("button")).setAttribute("type","button"),H.id="previous-button",H.setAttribute("aria-label","Previous"),H.innerHTML=D.svg?N:"&lt;",P.appendChild(H),(T=z("button")).setAttribute("type","button"),T.id="next-button",T.setAttribute("aria-label","Next"),T.innerHTML=D.svg?L:"&gt;",P.appendChild(T),(A=z("button")).setAttribute("type","button"),A.id="close-button",A.setAttribute("aria-label","Close"),A.innerHTML=D.svg?B:"&times;",P.appendChild(A),H.className=T.className=A.className="baguetteBox-button",s()}function r(e){switch(e.keyCode){case 37:v();break;case 39:p();break;case 27:f()}}function s(){C(P,"click",G),C(H,"click",$),C(T,"click",U),C(A,"click",V),C(P,"touchstart",J),C(P,"touchmove",K),C(P,"touchend",Q),C(document,"focus",Z,!0)}function o(){x(P,"click",G),x(H,"click",$),x(T,"click",U),x(A,"click",V),x(P,"touchstart",J),x(P,"touchmove",K),x(P,"touchend",Q),x(document,"focus",Z,!0)}function a(e,t){if(W!==e){for(W=e,l(t);F.firstChild;)F.removeChild(F.firstChild);R.length=0;for(var n,i=[],r=[],s=0;s<e.length;s++)n=z("div"),n.className="full-image",n.id="baguette-img-"+s,R.push(n),i.push("baguetteBox-figure-"+s),r.push("baguetteBox-figcaption-"+s),F.appendChild(R[s]);P.setAttribute("aria-labelledby",i.join(" ")),P.setAttribute("aria-describedby",r.join(" "))}}function l(e){e||(e={});for(var t in X)M[t]=X[t],void 0!==e[t]&&(M[t]=e[t]);F.style.transition=F.style.webkitTransition="fadeIn"===M.animation?"opacity .4s ease":"slideIn"===M.animation?"":"none","auto"===M.buttons&&("ontouchstart"in window||1===W.length)&&(M.buttons=!1),H.style.display=T.style.display=M.buttons?"":"none";try{P.style.backgroundColor=M.overlayBackgroundColor}catch(e){}}function c(e){M.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll"),"block"!==P.style.display&&(C(document,"keydown",r),I=e,_={count:0,startX:null,startY:null},g(I,function(){E(I),k(I)}),y(),P.style.display="block",M.fullScreen&&d(),setTimeout(function(){P.className="visible",M.afterShow&&M.afterShow()},50),M.onChange&&M.onChange(I,R.length),q=document.activeElement,u())}function u(){M.buttons?H.focus():A.focus()}function d(){P.requestFullscreen?P.requestFullscreen():P.webkitRequestFullscreen?P.webkitRequestFullscreen():P.mozRequestFullScreen&&P.mozRequestFullScreen()}function h(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function f(){M.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==P.style.display&&(x(document,"keydown",r),P.className="",setTimeout(function(){P.style.display="none",h(),M.afterHide&&M.afterHide()},500),q.focus())}function g(e,t){var n=R[e],i=W[e];if(void 0!==n&&void 0!==i){if(n.getElementsByTagName("img")[0])return void(t&&t());var r=i.imageElement,s=r.getElementsByTagName("img")[0],o="function"==typeof M.captions?M.captions.call(W,r):r.getAttribute("data-caption")||r.title,a=m(r),l=z("figure");if(l.id="baguetteBox-figure-"+e,l.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',M.captions&&o){var c=z("figcaption");c.id="baguetteBox-figcaption-"+e,c.innerHTML=o,l.appendChild(c)}n.appendChild(l);var u=z("img");u.onload=function(){var n=document.querySelector("#baguette-img-"+e+" .baguetteBox-spinner");l.removeChild(n),!M.async&&t&&t()},u.setAttribute("src",a),u.alt=s?s.alt||"":"",M.titleTag&&o&&(u.title=o),l.appendChild(u),M.async&&t&&t()}}function m(e){var t=e.href;if(e.dataset){var n=[];for(var i in e.dataset)"at-"!==i.substring(0,3)||isNaN(i.substring(3))||(n[i.replace("at-","")]=e.dataset[i]);for(var r=Object.keys(n).sort(function(e,t){return parseInt(e,10)<parseInt(t,10)?-1:1}),s=window.innerWidth*window.devicePixelRatio,o=0;o<r.length-1&&r[o]<s;)o++;t=n[r[o]]||t}return t}function p(){var e;return I<=R.length-2?(I++,y(),E(I),e=!0):M.animation&&(F.className="bounce-from-right",setTimeout(function(){F.className=""},400),e=!1),M.onChange&&M.onChange(I,R.length),e}function v(){var e;return I>=1?(I--,y(),k(I),e=!0):M.animation&&(F.className="bounce-from-left",setTimeout(function(){F.className=""},400),e=!1),M.onChange&&M.onChange(I,R.length),e}function y(){var e=100*-I+"%";"fadeIn"===M.animation?(F.style.opacity=0,setTimeout(function(){D.transforms?F.style.transform=F.style.webkitTransform="translate3d("+e+",0,0)":F.style.left=e,F.style.opacity=1},400)):D.transforms?F.style.transform=F.style.webkitTransform="translate3d("+e+",0,0)":F.style.left=e}function b(){var e=z("div");return void 0!==e.style.perspective||void 0!==e.style.webkitPerspective}function w(){var e=z("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}function E(e){e-I>=M.preload||g(e+1,function(){E(e+1)})}function k(e){I-e>=M.preload||g(e-1,function(){k(e-1)})}function C(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i):e.attachEvent("on"+t,function(e){(e=e||window.event).target=e.target||e.srcElement,n(e)})}function x(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent("on"+t,n)}function S(e){return document.getElementById(e)}function z(e){return document.createElement(e)}var P,F,H,T,A,N='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',L='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',B='<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>',M={},X={captions:!0,fullScreen:!1,noScrollbars:!1,titleTag:!1,buttons:"auto",async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},D={},W=[],I=0,_={},O=!1,j=/.+\.(gif|jpe?g|png|webp)/i,Y={},R=[],q=null,G=function(e){-1!==e.target.id.indexOf("baguette-img")&&f()},$=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,v()},U=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,p()},V=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,f()},J=function(e){_.count++,_.count>1&&(_.multitouch=!0),_.startX=e.changedTouches[0].pageX,_.startY=e.changedTouches[0].pageY},K=function(e){if(!O&&!_.multitouch){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.touches[0]||e.changedTouches[0];t.pageX-_.startX>40?(O=!0,v()):t.pageX-_.startX<-40?(O=!0,p()):_.startY-t.pageY>100&&f()}},Q=function(){_.count--,_.count<=0&&(_.multitouch=!1),O=!1},Z=function(e){"block"===P.style.display&&P.contains&&!P.contains(e.target)&&(e.stopPropagation(),u())};return[].forEach||(Array.prototype.forEach=function(e,t){for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),[].filter||(Array.prototype.filter=function(e,t,n,i,r){for(n=this,i=[],r=0;r<n.length;r++)e.call(t,n[r],r,n)&&i.push(n[r]);return i}),{run:function(t,r){D.transforms=b(),D.svg=w(),i(),n(t),e(t,r)},destroy:function(){o(),t(),x(document,"keydown",r),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),Y={},W=[],I=0},showNext:p,showPrevious:v}}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Siema",[],t):"object"==typeof exports?exports.Siema=t():e.Siema=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.config=e.mergeSettings(t),this.selector="string"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.startIndex,this.transformProperty=e.webkitOrNot(),["resizeHandler","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler"].forEach(function(e){n[e]=n[e].bind(n)}),this.init()}return s(e,[{key:"init",value:function(){if(window.addEventListener("resize",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null},this.selector.addEventListener("touchstart",this.touchstartHandler,{passive:!0}),this.selector.addEventListener("touchend",this.touchendHandler),this.selector.addEventListener("touchmove",this.touchmoveHandler,{passive:!0}),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler)),null===this.selector)throw new Error("Something wrong with your selector 😭");this.resolveSlidesNumber(),this.selector.style.overflow="hidden",this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=this.selectorWidth/this.perPage*this.innerElements.length+"px",this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.config.draggable&&(this.selector.style.cursor="-webkit-grab");for(var e=document.createDocumentFragment(),t=0;t<this.innerElements.length;t++){var n=document.createElement("div");n.style.cssFloat="left",n.style.float="left",n.style.width=100/this.innerElements.length+"%",n.appendChild(this.innerElements[t]),e.appendChild(n)}this.sliderFrame.appendChild(e),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent(),this.config.onInit.call(this)}},{key:"resolveSlidesNumber",value:function(){if("number"==typeof this.config.perPage)this.perPage=this.config.perPage;else if("object"===r(this.config.perPage)){this.perPage=1;for(var e in this.config.perPage)window.innerWidth>=e&&(this.perPage=this.config.perPage[e])}}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var n=this.currentSlide;0===this.currentSlide&&this.config.loop?this.currentSlide=this.innerElements.length-this.perPage:this.currentSlide=Math.max(this.currentSlide-e,0),n!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var n=this.currentSlide;this.currentSlide===this.innerElements.length-this.perPage&&this.config.loop?this.currentSlide=0:this.currentSlide=Math.min(this.currentSlide+e,this.innerElements.length-this.perPage),n!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:"goTo",value:function(e,t){if(!(this.innerElements.length<=this.perPage)){var n=this.currentSlide;this.currentSlide=Math.min(Math.max(e,0),this.innerElements.length-this.perPage),n!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:"slideToCurrent",value:function(){this.sliderFrame.style[this.transformProperty]="translate3d(-"+this.currentSlide*(this.selectorWidth/this.perPage)+"px, 0, 0)"}},{key:"updateAfterDrag",value:function(){var e=this.drag.endX-this.drag.startX,t=Math.abs(e),n=Math.ceil(t/(this.selectorWidth/this.perPage));e>0&&t>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(n):e<0&&t>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(n),this.slideToCurrent()}},{key:"resizeHandler",value:function(){this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.sliderFrame.style.width=this.selectorWidth/this.perPage*this.innerElements.length+"px",this.slideToCurrent()}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null}}},{key:"touchstartHandler",value:function(e){e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY}},{key:"touchendHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(e){e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo&&(this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing,this.sliderFrame.style[this.transformProperty]="translate3d("+-1*(this.currentSlide*(this.selectorWidth/this.perPage)+(this.drag.startX-this.drag.endX))+"px, 0, 0)")}},{key:"mousedownHandler",value:function(e){e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX}},{key:"mouseupHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(e){e.preventDefault(),this.pointerDown&&(this.drag.endX=e.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing,this.sliderFrame.style[this.transformProperty]="translate3d("+-1*(this.currentSlide*(this.selectorWidth/this.perPage)+(this.drag.startX-this.drag.endX))+"px, 0, 0)")}},{key:"mouseleaveHandler",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=e.pageX,this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.updateAfterDrag(),this.clearDrag())}},{key:"updateFrame",value:function(){this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=this.selectorWidth/this.perPage*this.innerElements.length+"px",this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing,this.config.draggable&&(this.selector.style.cursor="-webkit-grab");for(var e=document.createDocumentFragment(),t=0;t<this.innerElements.length;t++){var n=document.createElement("div");n.style.cssFloat="left",n.style.float="left",n.style.width=100/this.innerElements.length+"%",n.appendChild(this.innerElements[t]),e.appendChild(n)}this.sliderFrame.appendChild(e),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"remove",value:function(e,t){if(e<0||e>=this.innerElements.length)throw new Error("Item to remove doesn't exist 😭");this.innerElements.splice(e,1),this.currentSlide=e<=this.currentSlide?this.currentSlide-1:this.currentSlide,this.updateFrame(),t&&t.call(this)}},{key:"insert",value:function(e,t,n){if(t<0||t>this.innerElements.length+1)throw new Error("Unable to inset it at this index 😭");if(-1!==this.innerElements.indexOf(e))throw new Error("The same item in a carousel? Really? Nope 😭");this.innerElements.splice(t,0,e),this.currentSlide=t<=this.currentSlide?this.currentSlide+1:this.currentSlide,this.updateFrame(),n&&n.call(this)}},{key:"prepend",value:function(e,t){this.insert(e,0),t&&t.call(this)}},{key:"append",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this)}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(window.removeEventListener("resize",this.resizeHandler),this.selector.style.cursor="auto",this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),e){for(var n=document.createDocumentFragment(),i=0;i<this.innerElements.length;i++)n.appendChild(this.innerElements[i]);this.selector.innerHTML="",this.selector.appendChild(n),this.selector.removeAttribute("style")}t&&t.call(this)}}],[{key:"mergeSettings",value:function(e){var t={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,threshold:20,loop:!1,onInit:function(){},onChange:function(){}},n=e;for(var i in n)t[i]=n[i];return t}},{key:"webkitOrNot",value:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}]),e}();t.default=o,e.exports=t.default}])});